import * as log from 'loglevel';
import {getTextEditor} from "../TextEditor";

/**
 * prevent the user deleting all editable content
 * @param event
 * @param id
 */
export function stopUserDeletingEditableElement(id: string, event: KeyboardEvent)
{
    let keyCode: number;

    //  get key code from the event

    keyCode = event.keyCode;

    //  ignore non-delete-related keypresses

    if (keyCode !== 8 && keyCode !== 46) return;

    //  check current text pane content;
    //  if the editable pane is empty,
    //  restore some default content

    if (editableElementIsEmpty(id)) event.preventDefault();
}


/**
 * check whether the editable element has any content
 * @param id
 * @returns {boolean}
 */
function editableElementIsEmpty(id: string) : boolean
{
    return getTextEditor(id).element.textContent === '';
    // return getTextEditor(id).getActiveParagraph().textContent === '';
}