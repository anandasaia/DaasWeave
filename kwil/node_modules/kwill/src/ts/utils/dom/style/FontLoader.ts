import * as log from 'loglevel';
import {get, map} from 'lodash';
import WebFont = require('webfontloader');
import {IKwillFormatUiOptions} from "../../../text-format-ui/createTextFormatUi";


/**
 * load any fonts that the frame needs
 * @param frame
 * @param options
 */
export function loadFontsForFrame(frame: HTMLIFrameElement, options: IKwillFormatUiOptions)
{
    //  create a web font loader config

    const config: WebFont.Config =
        {
            google:
                {
                    families: <string[]>get(options, 'fonts.google'),
                    text: <string>get(options, 'fonts.glyphs')
                },
            context: <any>frame.contentWindow
        };

    //  load fonts

    WebFont.load(config);
}