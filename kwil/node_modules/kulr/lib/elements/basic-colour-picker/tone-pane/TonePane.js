"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Elements_1 = require("./Elements");
var Observables_1 = require("../../../state/Observables");
var Interactions_1 = require("./Interactions");
/**
 * create and populate a tone-pane element
 * @param options
 */
function createTonePane(options) {
  //  create pane elements, returning the svg colour pane
  //  then add interaction listeners to the SVG
  addListeners(Elements_1.populateTonePane(options), options);
}
exports.createTonePane = createTonePane;
/**
 * add interaction listeners to the pane
 * @param svg
 * @param options
 */
function addListeners(svg, options) {
  Observables_1.activeID.takeUntil(options.destroy).subscribe(function (id) {
    return options.id === id ? activatePane(svg) : deactivatePane(svg);
  });
}
/**
 * activate the pane; start listening for relevant events
 * @param svg
 */
function activatePane(svg) {
  //  listen for mouse interactions
  svg.addEventListener('mousedown', Interactions_1.onTonePaneMouseDown);
}
/**
 * deactivate the pane
 * @param svg
 */
function deactivatePane(svg) {
  //  stop listening for mouse interactions
  svg.removeEventListener('mousedown', Interactions_1.onTonePaneMouseDown);
}